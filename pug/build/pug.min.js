Arenite.Templates=function(arenite){var pug={},_templates={},_addText=function(e,t){throw"Not Implemented"},_add=function(urls,callback){var templateLatch=arenite.async.latch(urls.length,function(){"function"==typeof callback?callback():arenite.bus.publish("templates-loaded")},"template loader");urls.forEach(function(url){arenite.loader.loadResource(url,function(template){var config=eval(template);pug=config.pug,_templates=config.templates,templateLatch.countDown()},function(e){window.console.error(e)})})},_addCompiled=function(e,t){_templates[e]=t},_apply=function(e,t){if(!_templates[e])throw"Unable to find template '"+e+"'";return _templates[e](t)},_applyTo=function(e,t,a){a.innerHTML=_apply(e,t)},_append=function(e,t,a){var n=document.createElement("div");n.innerHTML=_apply(e,t),a.appendChild(n.childNodes[0])};return{add:_add,addText:_addText,addCompiled:_addCompiled,apply:_apply,applyTo:_applyTo,append:_append}};